device ZXSPECTRUMNEXT

ORG $6000

; Tilemap definition
; defines what tiles go where in the 40x32 grid
; currently 1 byte tilemap mode only
tileMapData:
DEFS 1280, 0

TilePatterns:
; Tile000
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
; Tile001
DB $22,$22,$22,$22,$22,$22,$22,$11,$22,$22,$11,$11,$22,$21,$11,$11
DB $22,$11,$11,$11,$22,$11,$11,$11,$21,$11,$11,$11,$21,$11,$11,$11
; Tile002
DB $21,$11,$11,$12,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11
DB $11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11
; Tile003
DB $22,$22,$22,$22,$11,$22,$22,$22,$11,$11,$22,$22,$11,$11,$12,$22
DB $11,$11,$11,$22,$11,$11,$11,$22,$11,$11,$11,$12,$11,$11,$11,$12
; Tile004
DB $21,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11
DB $11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$21,$11,$11,$11
; Tile005
DB $11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11
DB $11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11
; Tile006
DB $11,$11,$11,$12,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11
DB $11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$12
; Tile007
DB $21,$11,$11,$11,$21,$11,$11,$11,$22,$11,$11,$11,$22,$11,$11,$11
DB $22,$21,$11,$11,$22,$22,$11,$11,$22,$22,$22,$11,$22,$22,$22,$22
; Tile008
DB $11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11
DB $11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$11,$21,$11,$11,$12
; Tile009
DB $11,$11,$11,$12,$11,$11,$11,$12,$11,$11,$11,$22,$11,$11,$11,$22
DB $11,$11,$12,$22,$11,$11,$22,$22,$11,$22,$22,$22,$22,$22,$22,$22
; Tile010
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
; Tile011
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
; Tile012
DB $22,$22,$22,$22,$22,$22,$22,$00,$22,$22,$00,$00,$22,$20,$00,$00
DB $22,$00,$00,$00,$22,$00,$00,$00,$20,$00,$00,$00,$20,$00,$00,$00
; Tile013
DB $20,$00,$00,$02,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
; Tile014
DB $22,$22,$22,$22,$00,$22,$22,$22,$00,$00,$22,$22,$00,$00,$02,$22
DB $00,$00,$00,$22,$00,$00,$00,$22,$00,$00,$00,$02,$00,$00,$00,$02
; Tile015
DB $20,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$20,$00,$00,$00
; Tile016
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
; Tile017
DB $00,$00,$00,$02,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$02
; Tile018
DB $20,$00,$00,$00,$20,$00,$00,$00,$22,$00,$00,$00,$22,$00,$00,$00
DB $22,$20,$00,$00,$22,$22,$00,$00,$22,$22,$22,$00,$22,$22,$22,$22
; Tile019
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$20,$00,$00,$02
; Tile020
DB $00,$00,$00,$02,$00,$00,$00,$02,$00,$00,$00,$22,$00,$00,$00,$22
DB $00,$00,$02,$22,$00,$00,$22,$22,$00,$22,$22,$22,$22,$22,$22,$22
; Tile021
DB $22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22
DB $22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22,$22
; Tile022
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
; Tile023
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
; Tile024
DB $22,$22,$22,$22,$22,$22,$22,$33,$22,$22,$33,$33,$22,$23,$33,$33
DB $22,$33,$33,$33,$22,$33,$33,$33,$23,$33,$33,$33,$23,$33,$33,$33
; Tile025
DB $23,$33,$33,$32,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33
DB $33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33
; Tile026
DB $22,$22,$22,$22,$33,$22,$22,$22,$33,$33,$22,$22,$33,$33,$32,$22
DB $33,$33,$33,$22,$33,$33,$33,$22,$33,$33,$33,$32,$33,$33,$33,$32
; Tile027
DB $23,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33
DB $33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$23,$33,$33,$33
; Tile028
DB $33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33
DB $33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33
; Tile029
DB $33,$33,$33,$32,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33
DB $33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$32
; Tile030
DB $23,$33,$33,$33,$23,$33,$33,$33,$22,$33,$33,$33,$22,$33,$33,$33
DB $22,$23,$33,$33,$22,$22,$33,$33,$22,$22,$22,$33,$22,$22,$22,$22
; Tile031
DB $33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33
DB $33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$33,$23,$33,$33,$32
; Tile032
DB $33,$33,$33,$32,$33,$33,$33,$32,$33,$33,$33,$22,$33,$33,$33,$22
DB $33,$33,$32,$22,$33,$33,$22,$22,$33,$22,$22,$22,$22,$22,$22,$22

SpritePatterns:
; Sprite000
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
; Sprite001
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
; Sprite002
DB $00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01
; Sprite003
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00
DB $01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00
DB $01,$01,$01,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
; Sprite004
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$03,$03,$03
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
; Sprite005
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
DB $03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$00
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
; Sprite006
DB $00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03
DB $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$03,$03,$03
; Sprite007
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00
DB $03,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$00
DB $03,$03,$03,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$00,$00,$00,$03,$03,$03,$03,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
endofSprites:

; Page Data, aka the tilemap pages

page000:
DB 000,255
DB 000,029
DB 021,029
DB 000,011
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 000,011
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 000,011
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 000,011
DB 021,029
DB 000,011
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 000,011
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 000,011
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 000,011
DB 021,029
DB 000,011
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 000,011
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 000,011
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 000,011
DB 021,029
DB 000,011
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 000,011
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 000,011
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 000,011
DB 021,029
DB 000,011
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 000,011
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 000,011
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 000,011
DB 021,029
DB 000,011
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 012,001
DB 013,001
DB 014,001
DB 021,001
DB 000,011
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 015,001
DB 016,001
DB 017,001
DB 021,001
DB 000,011
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 018,001
DB 019,001
DB 020,001
DB 021,001
DB 000,011
DB 021,029
DB 000,007


TilePalette0:
DB $00,$00,$FC,$00,$03,$01,$E0,$00
TilePalette0Len EQU ($ - TilePalette0) / 2



SpritePalette0:
DB $00,$00,$FC,$00,$03,$01,$E0,$00
SpritePalette0Len EQU ($ - SpritePalette0) / 2


; *****************************************
; call to initialise the graphics
; *****************************************
spriteSetup:

; Configure tilemap control
 NEXTREG $6b, %10100001
; bit 7 1= enable tilemap
; bit 6 1= 80x32, 0=40x32
; bit 5 1= use 6c for attributes (i.e. 1 byte tilemap mode)
; bit 4 1= 2nd tilemap palette, 0= first
; bit 3 1= activate text mode
; bit 2 reserved, set to 0
; bit 1 1=512, 0=256 tilemap mode
; bit 0 1= force tilemap ontop of ULA

; Default tilemap attribute for 8bit maps
; i.e. when using 1 byte tilemap mode
; NB limits colours to 0-15
 NEXTREG $6c, $0
; bit 7-4 Palette offset
; bit 3 1=mirror in X direction
; bit 2 1=mirror in Y direction
; bit 1 1=rotate 90deg clockwise
; bit 0 1=ula overtilemap, 0=tilemap over ULA
 
; ULA control
  NEXTREG $68, $0
; bit 7 1=disable ULA output
; bit 6 concerned with blending in SLU modes 6/7
;       1=select ULA/tilemap mix
;       0=select ULA colour
; bits 5-1 reserved, always 0
; bit 0 1=enable stencil mode when ULA & tilemap enabled
 
; point to the tilemap and tile pattern data
  NEXTREG $6e, tileMapData / 256
  NEXTREG $6f, TilePatterns / 256
 
; Palette Control
; set values for Tilemap palette 0
  NEXTREG $43, %00110000
; bit 7 1=disable palette auto inc
; bit 6-4 select palette for r/w
; 000 = ULA palette 1
; 100 = ULA palette 2
; 001 = Layer 2 palette 1
; 101 = Layer 2 palette 2
; 010 = Sprites palette 1
; 110 = Sprites palette 2
; 011 = Tilemap palette 1
; 111 = Tilemap palette 2
; bit 3
; bit 2
; bit 1
; bit 0

; Set index of transparent colour in Tilemap palette
  NEXTREG $4c, 0
 
; load the colours into the palette memory
; here we are using 9 bit colours, so use $44 to do the load

; first initialise the palette index to 0
  NEXTREG $40, 0

; set the number of colours 
; set location of Tilemap palette data
  LD B, TilePalette0Len
  LD HL, TilePalette0

; write palette data, 2 bytes per colour
tilemapPalette0Loop:
  LD A, (HL)
  INC HL
  NEXTREG $44, A
  LD A, (HL)
  INC HL
  NEXTREG $44, A
  DJNZ tilemapPalette0Loop
 
; Configure Sprite and Layers System
  NEXTREG $15, %00000011
; bit 7 1=enable lo-res 
; bit 6 1=flip sprite rendering priority
; bit 5 1=change clipping over border mode
; bit 4-2 000=sprites on top, layer 2 under
; bit 1 1=enable sprites over border
; bit 0 1=enable sprite visibility
 
  LD BC, $303b                 ; set port for Sprites
  SUB A, A                     ; Set sprite index to 0
  OUT (C), A                   ; write to port

 LD HL, SpritePatterns; point to sprite patterns
 LD BC, $5b                    ; set port to write patterns to
 LD DE, endofSprites - SpritePatterns

spritePatternLoop:
 LD A, (HL)                    ; get each byte of pattern data
 INC HL                        ; ready for next read
 OUT (C), A                    ; upload to sprite memory
 DEC DE                        ; dec loop count
 LD A, E                       ; test for 0
 OR A, D
 JR NZ, spritePatternLoop      ; loop if more data

; Palette Control
; set values for Sprites palette 1
 NEXTREG $43, %00100000
; bit 7 1=disable palette auto inc
; bit 6-4 select palette for r/w
; 000 = ULA palette 1
; 100 = ULA palette 2
; 001 = Layer 2 palette 1
; 101 = Layer 2 palette 2
; 010 = Sprites palette 1
; 110 = Sprites palette 2
; 011 = Tilemap palette 1
; 111 = Tilemap palette 2
; bit 3
; bit 2
; bit 1
; bit 0

; set index of transparent colour in the Sprite palette
 NEXTREG $4b, 0

; load the colours into the palette memory
; here we are using 9 bit colours, so use $44 to do the load

; first initialise the palette index to 0
 NEXTREG $40, 0

; set the number of colours 
; set location of sprite palette data
 LD B, SpritePalette0Len
 LD HL, SpritePalette0

; write palette data, 2 bytes per colour
spritePalette0Loop:
 LD A, (HL)
 INC HL
 NEXTREG $44, A
 LD A, (HL)
 INC HL
 NEXTREG $44, A
 DJNZ spritePalette0Loop
 RET
